\documentclass[a4paper, 10pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{ngerman, lmodern}
%\usepackage[left=3cm, right=3cm]{geometry}

\newcommand{\mytitle}{Untersuchung und Kontrolle von chaotischem Verhalten am Doppelpendel}
\newcommand{\myauthor}{Jann Horn und Hannes Riechert}

\usepackage{graphicx, wrapfig, subfigure, color, amsmath, amsthm}
\usepackage{fancyhdr}
  \lhead{\myauthor}
  \chead{}
  \rhead{\nouppercase\leftmark}
  \lfoot{}
  \cfoot{\thepage}
  \rfoot{}

\usepackage[numbers]{natbib}
\usepackage{setspace}
  \onehalfspacing % Zeilenabstand
% \usepackage[numbers]{natbib} % bibliography

\newcommand{\TODO}{\textcolor{red}{ \textbf TODO }}
\newcommand{\mathematik}{\begin{equation*}\begin{aligned}}
\newcommand{\mathematikstop}{\end{aligned}\end{equation*}}
\renewcommand{\phi}{\varphi} % make "stroked" phi look "loopy"
\renewcommand{\rho}{\varrho}
\newcommand{\half}{\frac{1}{2}} % 1/2
\newcommand{\phid}{\dot{\phi}}  % phi with one dot
\newcommand{\intend}{\,\mathrm{d}} % end of integral
\newcommand{\EQU}{\qquad\bigg|\,} % separator for explanations for equivalent rearrangements

%\clubpenalty = 10000
%\widowpenalty = 10000
%\displaywidowpenalty = 10000

\title{\mytitle}
\author{\myauthor}
%\date{ }

\begin{document}
\maketitle
\begin{abstract}
In unserem Projekt beschäftigen wir uns mit dem Verhalten von chaotischen Doppelpendeln. Wir wollen aus der aktuellen Bewegung eines Doppelpendels den weiteren Bewegungsablauf in einem kurzen Zeitintervall extrapolieren und dann versuchen, diese Bewegung zu beeinflussen.

Hierzu wollen wir zunächst ein Doppelpendel konstruieren, bei dem Daten über den aktuellen Bewegungszustand erfasst werden können. Diese Daten sollen in Echtzeit von einem Computer ausgewertet werden, um laufend eine Prognose an die Messwerte anzupassen. Anhand dieser Prognose soll dann entschieden werden, ob das Pendel eine unerwünschte Bewegung durchführen wird, und wenn nötig, soll mithilfe mehrerer Spulen eine korrigierende magnetische Kraft erzeugt werden. Es könnte zum Beispiel erwünscht sein, einen Überschlag zu vermeiden.
\end{abstract}

\newpage
\pagestyle{fancy}
\tableofcontents

\newpage

\section{Einleitung}
Als erstes haben wir an den mathematisch genauen Schwingungsdifferenzialgleichungen für das Doppelpendel gearbeitet.
Und eine vollkommen theoretische Simulation von einem Doppelpendel realisiert.

Erst danach haben wir mit der Konstruktion des Modells, das in Abbildung (\TODO ref) zu sehen ist begonnen.

\section{Simulation}

\subsection{Mathematischer Hintergrund}
Der Lösungsansatz über die Euler"=Lagrange Gleichung ist von der englischen Wikipedia übernommen worden. \citep{wikidoublependulum}

Die Gleichungen wurden nur um die Konstanten $k_1$ bis $k_5$ erweitert, um sie an unser Pendel anpassen zu können, das keine gleichmäßige Massenverteilung aufweist.

(\TODO wo ist die vollständige Herleitung?)

Die Position der Pendelarme kann durch die zwei generalisierten Koordinaten $\phi_1$ und $\phi_2$ beschrieben werden, die die Winkel der Arme angeben.
Für die vollständige Angabe des Zustands des Systems ist zusätzlich noch der generalisierte Impuls hier als $p_1$ und $p_2$ bezeichnet, vonnöten.

Aus den Funktionen $\dot{p}_1$, $\dot{p}_2$, $\phid_1$ und $\phid_2$ setzt sich das System von Differentialgleichungen zusammen, mit denen aus dem aktuellen Zustand der Zustand des Systems zu jeder gegebenen Zeit berechnen lässt.
Die Berechnung kann zum Beispiel Iterativ mit dem Runge"=Kutta"=Verfahren erfolgen.

(\TODO bild um variablen zu erklären)

\mathematik
\phid_1 &= \frac{k_4 p_1 - k_5 l_1 p_2 cos(\phi_1 - \phi_2)}{k_1 k_4 + l_1 \cdot (k_3 k_4 - k_5^2 l_1 cos^2(\phi_1 - \phi_2))} \\[0.5\baselineskip]
\phid_2 &= \frac{k_1 p_2 + l1 \cdot (k_3 p_2 - k_5 p_1 cos(\phi_1 - \phi_2))}{k_1 k_4 + l_1 \cdot (k_3 k_4 - k_5^2 l_1 cos^2(\phi_1 - \phi_2))} \\[0.5\baselineskip]
\dot{p}_1 &= -l_1 \phid_1 \phid_2 k_5 sin(\phi_1 - \phi_2) - g k_2 sin \phi_1 - g l_1 k_3 sin \phi_1 \\[0.5\baselineskip]
\dot{p}_2 &= l_1 \phid_1 \phid_2 k_5 sin(\phi_1 - \phi_2) - g k_5 sin \phi_2 \\[0.5\baselineskip]
\mathematikstop
\mathematik
k_1 &= \int^{l_{1b}}_{l_{1a}} \rho_1(r) \; r^2 \intend r
\qquad && k_2 &= \int^{l_{1b}}_{l_{1a}} \rho_1(r) \; r \intend r \\
k_3 &= \int^{l_{2b}}_{l_{2a}} \rho_2(r) \intend r
&& k_4 &= \int^{l_{2b}}_{l_{2a}} \rho_2(r) \; r^2 \intend r \\
k_5 &= \int^{l_{2b}}_{l_{2a}} \rho_2(r) \; r \intend r \\
\mathematikstop

\subsection{Software}

\section{Der Aufbau des Modells}

\begin{figure}
  \includegraphics[width=\textwidth]{charts/pendulumsketch.png}
  \caption{Position der Spulen in Polarkoordinaten}
  \label{fig:pendulumsketch}
\end{figure}

\input{Erfassung.tex}

\section{Messwertverarbeitung}
\begin{figure}
  \includegraphics[width=\textwidth]{charts/network_dia.png}
  \caption{Flussdiagramm der Messdaten}
  \label{fig:network}
\end{figure}

\clearpage
\addcontentsline{toc}{section}{Literatur}
\bibliographystyle{alphadin}
\bibliography{Dokumentation}{}

\end{document}

